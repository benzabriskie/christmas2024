<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>12 Dates of Christmas</title>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@400;700&family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
    /* Add this to your CSS */
.date-popup {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(255,255,255,0.95);
    z-index: 1000;
    padding: 40px;
    overflow-y: auto;
}

.date-popup-content {
    max-width: 800px;
    margin: 0 auto;
    background: #fdf5e6;
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    position: relative;
    border: 2px solid #d32f2f;
}

.date-popup-content::before {
    content: '';
    position: absolute;
    top: -10px;
    left: 50%;
    transform: translateX(-50%);
    width: 80%;
    height: 20px;
    background: #d32f2f;
    border-radius: 10px;
}

.date-popup h2 {
    font-family: 'Great Vibes', cursive;
    font-size: 3em;
    color: #d32f2f;
    text-align: center;
    margin-bottom: 30px;
}
        /* Base Styles */
        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            min-height: 100vh;
            background: linear-gradient(135deg, #ffe1e1 0%, #f8d7d7 100%);
            padding: 20px;
            position: relative;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 20% 20%, rgba(255, 180, 180, 0.5) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 180, 180, 0.5) 0%, transparent 50%);
        }

        /* Snowfall Animation */
        .snowfall {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .snowflake {
            position: fixed;
            top: -10px;
            color: #fff;
            text-shadow: 
                0 0 5px rgba(255,255,255,0.8),
                0 0 10px rgba(255,255,255,0.8),
                0 0 15px rgba(255,255,255,0.8);
            filter: drop-shadow(0 0 3px rgba(255,255,255,0.9));
            opacity: 0.9;
            animation-name: snowfall;
            animation-timing-function: linear;
            animation-iteration-count: infinite;
        }

        @keyframes snowfall {
            0% {
                transform: translateY(-10px) rotate(0deg);
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
            }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 2;
        }

        h1 {
            font-family: 'Great Vibes', cursive;
            text-align: center;
            color: #d32f2f;
            font-size: 4.5em;
            margin-bottom: 40px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        /* Category Grid */
        .categories {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            padding: 0 20px;
        }

        .welcome-container {
            grid-column: 1 / -1;
            text-align: center;
            margin-bottom: 40px;
        }

        /* Enhanced Card Styling */
        .category-btn, .date-card, .welcome-content {
            background: #fdf5e6;
            background-image: 
                linear-gradient(45deg, rgba(0,0,0,0.02) 25%, transparent 25%),
                linear-gradient(-45deg, rgba(0,0,0,0.02) 25%, transparent 25%),
                linear-gradient(45deg, transparent 75%, rgba(0,0,0,0.02) 75%),
                linear-gradient(-45deg, transparent 75%, rgba(0,0,0,0.02) 75%);
            background-size: 20px 20px;
            background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
            border: 1px solid rgba(0,0,0,0.05);
            position: relative;
        }

        .category-btn::after, .date-card::after {
            content: '';
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            border: 1px solid rgba(210,180,140,0.2);
            pointer-events: none;
        }
/* Enhanced Letter Styling */
.date-card, .welcome-content {
            padding: 40px;
            box-shadow: 
                0 2px 4px rgba(0,0,0,0.1),
                0 0 40px rgba(255,223,186,0.5) inset;
        }

        .date-card::before, .welcome-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                url("data:image/svg+xml,%3Csvg width='6' height='6' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5 0h1L0 6V5zm1 5v1H5z' fill='%23f0e6d6' fill-opacity='.7'/%3E%3C/svg%3E");
            pointer-events: none;
            opacity: 0.5;
        }

        /* Button and Interaction Styles */
        .category-btn {
            border: none;
            border-radius: 15px;
            cursor: pointer;
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            overflow: hidden;
            width: 100%;
        }

        .category-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }

        .category-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #d32f2f, #ff6b6b);
        }

        .envelope-icon {
            width: 120px;
            height: 120px;
            margin: 0 auto 20px;
            position: relative;
        }

        .category-btn h2 {
            font-family: 'Playfair Display', serif;
            font-size: 1.8em;
            color: #2c3e50;
            margin: 15px 0;
        }

        .category-btn p {
            color: #666;
            font-size: 1.1em;
        }

        /* Welcome Message Styling */
        .welcome-message {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255,255,255,0.95);
            z-index: 1000;
            padding: 40px;
            overflow-y: auto;
        }

        .welcome-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            position: relative;
            border: 2px solid #d32f2f;
        }

        .welcome-content::before {
            content: '';
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80%;
            height: 20px;
            background: #d32f2f;
            border-radius: 10px;
            z-index: 1;
        }

        .welcome-content h2 {
            font-family: 'Great Vibes', cursive;
            font-size: 3em;
            color: #d32f2f;
            text-align: center;
            margin-bottom: 30px;
        }

        .welcome-content p {
            font-size: 1.2em;
            line-height: 1.8;
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #d32f2f;
            padding: 10px;
            line-height: 1;
            z-index: 2;
        }

        /* Date Categories View */
        .dates-view {
            display: none;
            padding: 20px;
        }

        .dates-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .date-envelope {
            background: #fdf5e6;
            border-radius: 15px;
            padding: 30px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .date-envelope:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }

        .date-card {
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .date-card h3 {
            font-family: 'Playfair Display', serif;
            color: #d32f2f;
            font-size: 1.8em;
            margin-bottom: 20px;
        }

        .date-card p {
            font-size: 1.1em;
            line-height: 1.8;
            color: #2c3e50;
            white-space: pre-line;
        }

        /* Navigation */
        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .back-btn, .reset-btn {
            font-family: 'Poppins', sans-serif;
            background: none;
            border: 2px solid #d32f2f;
            border-radius: 25px;
            padding: 10px 20px;
            color: #d32f2f;
            cursor: pointer;
            font-size: 1.1em;
            transition: all 0.3s ease;
        }

        .back-btn:hover, .reset-btn:hover {
            background: #d32f2f;
            color: white;
        }

        /* SVG Styles */
        .envelope-svg {
            width: 100%;
            height: 100%;
        }

        .bow {
            fill: #d32f2f;
        }

        .envelope-body {
            fill: #ff4444;
        }

        .envelope-flap {
            fill: #cc0000;
        }

        .section-title {
            font-family: 'Playfair Display', serif;
            color: #d32f2f;
            font-size: 2.5em;
            text-align: center;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .categories {
                grid-template-columns: 1fr;
            }

            h1 {
                font-size: 3em;
            }

            .welcome-content {
                padding: 20px;
                margin: 20px;
            }
        }
    </style>
</head>
<body>
    <div id="snowfall" class="snowfall"></div>

    <div class="container">
        <h1>12 Dates of Christmas</h1>
        
        <div id="categories-view">
            <div class="categories">
                <div class="welcome-container">
                    <button class="category-btn" onclick="toggleWelcome()">
                        <div class="envelope-icon">
                            <svg class="envelope-svg" viewBox="0 0 100 100">
                                <path class="envelope-body" d="M10,30 L90,30 L90,90 L10,90 Z"/>
                                <path class="envelope-flap" d="M10,30 L50,60 L90,30 L50,10 Z"/>
                                <path class="bow" d="M45,25 Q50,20 55,25 Q50,30 45,25 Z"/>
                                <circle class="bow" cx="50" cy="25" r="3"/>
                            </svg>
                        </div>
                        <h2>Read Me First</h2>
                        <p>Click to read your special message</p>
                    </button>
                </div>

                <button class="category-btn" onclick="showCategory('chill')">
                    <div class="envelope-icon">
                        <svg class="envelope-svg" viewBox="0 0 100 100">
                            <path class="envelope-body" d="M10,30 L90,30 L90,90 L10,90 Z"/>
                            <path class="envelope-flap" d="M10,30 L50,60 L90,30 L50,10 Z"/>
                            <path class="bow" d="M40,25 Q50,15 60,25 Q50,35 40,25 Z"/>
                            <circle class="bow" cx="50" cy="25" r="4"/>
                        </svg>
                    </div>
                    <h2>At-Home/Chill</h2>
                    <p>Cozy moments together</p>
                </button>

                <button class="category-btn" onclick="showCategory('adventure')">
                    <div class="envelope-icon">
                        <svg class="envelope-svg" viewBox="0 0 100 100">
                            <path class="envelope-body" d="M10,30 L90,30 L90,90 L10,90 Z"/>
                            <path class="envelope-flap" d="M10,30 L50,60 L90,30 L50,10 Z"/>
                            <path class="bow" d="M35,25 Q50,10 65,25 Q50,40 35,25 Z"/>
                            <circle class="bow" cx="50" cy="25" r="4"/>
                        </svg>
                    </div>
                    <h2>A Little Adventurous</h2>
                    <p>Exciting experiences await</p>
                </button>

                <button class="category-btn" onclick="showCategory('more-adventure')">
                    <div class="envelope-icon">
                        <svg class="envelope-svg" viewBox="0 0 100 100">
                            <path class="envelope-body" d="M10,30 L90,30 L90,90 L10,90 Z"/>
                            <path class="envelope-flap" d="M10,30 L50,60 L90,30 L50,10 Z"/>
                            <path class="bow" d="M30,25 Q50,5 70,25 Q50,45 30,25 Z"/>
                            <circle class="bow" cx="50" cy="25" r="4"/>
                        </svg>
                    </div>
                    <h2>More Adventurous</h2>
                    <p>Thrilling adventures together</p>
                </button>
            </div>
        </div>

        <div id="welcome-message" class="welcome-message">
            <div class="welcome-content">
                <button class="close-btn" onclick="toggleWelcome()">×</button>
                <h2>My Dearest Love</h2>
                <p>Welcome to your special "12 Dates of Christmas" gift! I've planned twelve unique dates for us, each one carefully chosen to create wonderful memories together.</p>
                <p>Here's how it works:
                   <br>1. Below you'll find three categories of dates
                   <br>2. Each category has four special date envelopes waiting to be opened
                   <br>3. Choose any envelope you'd like, and we'll go on that date together
                   <br>4. The website will remember which dates we've opened</p>
                <p>These dates are my promise to you - a promise of quality time, adventures, laughter, and love.</p>
                <p>With all my love,<br>[Your name]</p>
            </div>
        </div>

        <div id="dates-view" class="dates-view">
            <div class="navigation">
                <button class="back-btn" onclick="showCategories()">← Back to Categories</button>
                <button class="reset-btn" onclick="resetEnvelopes()">Reset Category</button>
            </div>
            <h2 id="category-title" class="section-title"></h2>
            <div id="dates-grid" class="dates-grid"></div>
        </div>
    </div>
    <script>
        // Create and initialize snowflakes
        function createSnowflakes() {
            const snowfall = document.getElementById('snowfall');
            const numberOfSnowflakes = 75; // Increased number of snowflakes
            const snowflakes = ['❅', '❆', '❄'];

            for (let i = 0; i < numberOfSnowflakes; i++) {
                const snowflake = document.createElement('div');
                snowflake.className = 'snowflake';
                snowflake.innerHTML = snowflakes[Math.floor(Math.random() * snowflakes.length)];
                snowflake.style.left = `${Math.random() * 100}vw`;
                snowflake.style.opacity = Math.random() * 0.7 + 0.3; // Increased base opacity
                snowflake.style.fontSize = `${Math.random() * 20 + 10}px`;
                snowflake.style.animationDuration = `${Math.random() * 3 + 2}s`;
                snowflake.style.animationDelay = `${Math.random() * 2}s`;

                snowfall.appendChild(snowflake);
            }
        }

        // Initialize snowfall and regenerate periodically
        createSnowflakes();
        setInterval(() => {
            const snowfall = document.getElementById('snowfall');
            snowfall.innerHTML = '';
            createSnowflakes();
        }, 10000);

        // Date content
        const dateIdeas = {
            chill: [
                {
                    title: "Cozy Movie Marathon",
                    description: "My dear love,\n\nLet's create our own cinema paradise at home! We'll build a blanket fort, prepare our favorite snacks, and line up a series of movies we've been wanting to watch together. I'll make sure to have hot chocolate ready, and we can order your favorite takeout. Just us, comfort, and endless entertainment.\n\nWith love and excitement for our cozy night,\n[Your name]"
                },
                {
                    title: "Home Spa Day",
                    description: "Dearest,\n\nToday we're transforming our home into a luxury spa! I've planned a day of relaxation with face masks, massage oils, and calming music. We'll take turns giving each other massages, enjoy some infused water, and completely unwind together. No phones, no distractions - just pure relaxation.\n\nCan't wait to pamper you,\n[Your name]"
                },
                {
                    title: "Cooking Class at Home",
                    description: "My love,\n\nGet ready for a culinary adventure right in our kitchen! I've picked out a recipe we've never tried before, bought all the ingredients, and even got us matching aprons. Whether it's a success or a delicious disaster, I know we'll have fun creating something together.\n\nLooking forward to cooking up memories,\n[Your name]"
                },
                {
                    title: "Indoor Picnic & Games",
                    description: "Darling,\n\nTonight we're having an indoor picnic! I've prepared a spread of your favorite finger foods and set up board games for us to play. We'll lay out blankets, light some candles, and enjoy good food, games, and each other's company without having to worry about the weather.\n\nReady for some fun and games,\n[Your name]"
                }
            ],
            adventure: [
                {
                    title: "Local Food Tour",
                    description: "My adventurous love,\n\nI've mapped out a delicious journey through our city! We'll visit 4-5 different local spots, trying signature dishes at each place. From hidden gems to popular favorites, we'll explore our city's flavors together. I've already researched all the spots and planned the perfect route.\n\nReady to taste the adventure,\n[Your name]"
                },
                {
                    title: "Sunset Kayaking",
                    description: "Dearest,\n\nLet's paddle into the sunset together! I've arranged for us to go kayaking during the golden hour. We'll glide across the water, watch the sky change colors, and maybe even spot some wildlife. Don't worry - I've taken care of all the equipment rentals.\n\nExcited to share this beautiful experience,\n[Your name]"
                },
                {
                    title: "Paint & Sip Class",
                    description: "My creative companion,\n\nTonight we're getting artistic! I've booked us spots at a local paint and sip class where we'll create our own masterpieces while enjoying some wine. No artistic experience needed - just bring your sense of adventure and humor. We'll have two unique paintings to remember this night by.\n\nReady to create with you,\n[Your name]"
                },
                {
                    title: "Mystery Dinner",
                    description: "My curious love,\n\nGet ready for an evening of intrigue! I've booked us tickets to a mystery dinner theater where we'll enjoy a delicious meal while solving a crime. We'll meet interesting characters, collect clues, and work together to crack the case. Dress up is encouraged!\n\nCan't wait to solve this mystery with you,\n[Your name]"
                }
            ],
            'more-adventure': [
                {
                    title: "Hot Air Balloon Ride",
                    description: "My adventurous spirit,\n\nWe're taking our love to new heights - literally! I've arranged an early morning hot air balloon ride for us. We'll float above the city as the sun rises, sip champagne in the clouds, and see the world from a whole new perspective together.\n\nLooking forward to soaring with you,\n[Your name]"
                },
                {
                    title: "Rock Climbing",
                    description: "My brave companion,\n\nToday we're challenging ourselves with an indoor rock climbing adventure! I've booked us a beginner's lesson where we'll learn the basics of climbing together. We'll encourage each other, push our limits, and celebrate our achievements. Trust me - it'll be an unforgettable experience!\n\nReady to reach new heights with you,\n[Your name]"
                },
                {
                    title: "Dance Class",
                    description: "My dancing partner,\n\nSurprise! We're going to learn to dance together! I've signed us up for a private dance lesson where we'll learn some basic steps and perhaps even a full routine. Whether we're naturals or have two left feet, it'll be a fun way to get closer and maybe discover a new hobby.\n\nCan't wait to sweep you off your feet,\n[Your name]"
                },
                {
                    title: "Surprise Road Trip",
                    description: "My adventure buddy,\n\nPack a bag - we're going on a surprise road trip! I've planned out a full day of exploration to a destination within a few hours' drive. We'll discover new places, try local foods, and create memories along the way. The destination is a surprise, but I promise it'll be worth the journey!\n\nExcited to hit the road with you,\n[Your name]"
                }
            ]
        };
        let currentCategory = null;
        const openedEnvelopes = JSON.parse(localStorage.getItem('openedEnvelopes') || '{}');

        function toggleWelcome() {
            const welcomeMessage = document.getElementById('welcome-message');
            welcomeMessage.style.display = welcomeMessage.style.display === 'block' ? 'none' : 'block';
        }

        function showCategory(category) {
            currentCategory = category;
            document.getElementById('categories-view').style.display = 'none';
            document.getElementById('dates-view').style.display = 'block';
            
            const titles = {
                'chill': 'At-Home/Chill Dates',
                'adventure': 'A Little Adventurous Dates',
                'more-adventure': 'More Adventurous Dates'
            };
            document.getElementById('category-title').textContent = titles[category];
            
            renderDates();
        }

        function showCategories() {
            document.getElementById('categories-view').style.display = 'block';
            document.getElementById('dates-view').style.display = 'none';
            currentCategory = null;
        }

        function showDatePopup(date) {
    const popup = document.createElement('div');
    popup.className = 'date-popup';
    popup.innerHTML = `
        <div class="date-popup-content">
            <button class="close-btn" onclick="closePopup(this)">×</button>
            <h2>${date.title}</h2>
            <p>${date.description}</p>
        </div>
    `;
    document.body.appendChild(popup);
    setTimeout(() => popup.style.display = 'block', 10);
}

function closePopup(button) {
    const popup = button.closest('.date-popup');
    popup.style.display = 'none';
    setTimeout(() => popup.remove(), 500);
}

function openEnvelope(index) {
    const key = `${currentCategory}-${index}`;
    const date = dateIdeas[currentCategory][index];
    
    if (!openedEnvelopes[key]) {
        // First time opening this envelope - show popup
        showDatePopup(date);
    }
    
    openedEnvelopes[key] = true;
    localStorage.setItem('openedEnvelopes', JSON.stringify(openedEnvelopes));
    renderDates();
}

        function isEnvelopeOpened(index) {
            return openedEnvelopes[`${currentCategory}-${index}`] || false;
        }

        function resetEnvelopes() {
            if (confirm('Are you sure you want to reset all opened envelopes in this category?')) {
                Object.keys(openedEnvelopes).forEach(key => {
                    if (key.startsWith(currentCategory)) {
                        delete openedEnvelopes[key];
                    }
                });
                localStorage.setItem('openedEnvelopes', JSON.stringify(openedEnvelopes));
                renderDates();
            }
        }

        function renderDates() {
            const datesGrid = document.getElementById('dates-grid');
            datesGrid.innerHTML = '';

            dateIdeas[currentCategory].forEach((date, index) => {
                if (!isEnvelopeOpened(index)) {
                    const envelope = document.createElement('div');
                    envelope.className = 'date-envelope';
                    envelope.innerHTML = `
                        <div class="envelope-icon">
                            <svg class="envelope-svg" viewBox="0 0 100 100">
                                <path class="envelope-body" d="M10,30 L90,30 L90,90 L10,90 Z"/>
                                <path class="envelope-flap" d="M10,30 L50,60 L90,30 L50,10 Z"/>
                                <path class="bow" d="M40,25 Q50,15 60,25 Q50,35 40,25 Z"/>
                                <circle class="bow" cx="50" cy="25" r="4"/>
                            </svg>
                        </div>
                        <h3>Date #${index + 1}</h3>
                        <p>Click to open</p>
                    `;
                    envelope.onclick = () => openEnvelope(index);
                    datesGrid.appendChild(envelope);
                } else {
                    const dateCard = document.createElement('div');
                    dateCard.className = 'date-card';
                    dateCard.innerHTML = `
                        <h3>${date.title}</h3>
                        <p>${date.description}</p>
                    `;
                    datesGrid.appendChild(dateCard);
                }
            });
        }
    </script>
</body>
</html>